!function(ng){ng.module("D6App").controller("AttributeCtlr",["$scope","D6Utils",function($scope){"use strict";function onChangeRank(newValue){newValue>$scope.attribute.max&&($scope.attribute.rank=$scope.attribute.max,$scope.attribute.pips=0)}function onChangePips(newValue){newValue>3&&($scope.attribute.pips=0,$scope.attribute.rank++),0>newValue&&($scope.attribute.pips=3,$scope.attribute.rank--),$scope.attribute.rank>=$scope.attribute.max&&($scope.attribute.pips=0,$scope.attribute.rank=$scope.attribute.max,$scope.controls.invalid=!0),$scope.attribute.rank<1&&($scope.attribute.rank=1,$scope.attribute.pips=0,$scope.controls.invalid=!0)}$scope.$watch("attribute.rank",onChangeRank),$scope.$watch("attribute.pips",onChangePips)}])}(angular);