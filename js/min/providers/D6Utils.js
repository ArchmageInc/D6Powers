!function(ng,$Math,$Object){ng.module("D6App").factory("D6Utils",["$log",function($log){"use strict";function D6GetLength(){return $Object.keys(this).length}function D6Property(object,property,value){var getter,config={enumerable:!1,configurable:!1};return property.match(/rw:/i)&&!property.match(/get:/i)&&(config.writable=!0),property=property.replace(/rw:/i,""),"function"==typeof value&&property.match(/get:/i)?(getter=value,value=void 0,property=property.replace(/get:/i,"")):void 0===value&&void 0!==object[property]&&(value=object[property],delete object[property]),getter?config.get=getter:"length"===property?config.get=D6GetLength:config.value=value,$Object.defineProperty(object,property,config),object}function D6Properties(object,properties){return ng.forEach(properties,function(value,property){D6Property(object,property,value)}),object}function D6GetFromPath(object,fullPath,parents){parents=parents||0;var paths=fullPath.split(".");try{for(var i=0;i<paths.length-parents;i++)object=object[paths[i]]}catch(ex){}return{nextPath:paths[paths.length-parents],paths:paths.splice(paths.length-parents,parents),target:object}}function D6GetFlatPaths(object,preKey){preKey=preKey||"";var paths=[];return ng.forEach(object,function(property,key){key=preKey+"."+key.replace(" ","\\ "),"object"==typeof property?paths=paths.concat(D6GetFlatPaths(property,key)):"function"!=typeof property&&paths.push(key)}),paths}function D6DeepClone(object){function applyProperty(child,property){obj[property]="object"==typeof child?D6DeepClone(child):child}var obj={};return ng.forEach(object,applyProperty),obj}function D6DeepExtend(){function applyProperty(child,property){"object"==typeof child?obj[property]=D6DeepExtend(child):"function"!=typeof child&&(obj[property]=child)}for(var obj=arguments[0],i=1;i<arguments.length;i++)ng.forEach(arguments[i],applyProperty);return obj}function D6Roll(number,explode,previous){previous=previous||0;var result=$Math.round(5*$Math.random())+1;if(number>1)return number-=1,result=D6Roll(number,explode,result+previous);if(6===result&&explode!==!1){var exp=D6Roll(1);result+=exp}return result+previous}var D6Utils={roll:D6Roll,addD6Property:D6Property,addD6Properties:D6Properties,getFlatPaths:D6GetFlatPaths,getFromPath:D6GetFromPath,clone:D6DeepClone,extend:D6DeepExtend,log:{info:$log.info,warn:$log.warn,error:$log.error}};return D6Utils}])}(angular,Math,Object);